\chapter{Исследовательская часть}

В данном разделе будут приведён пример работы программы, а также проведён сравнительный анализ многопоточной реализации и однопоточной

\section{Технические характеристики}

Технические характеристики устройства, на котором выполнялось тестирование представлены далее:

\begin{itemize}
	\item операционная система: Mac OS Monterey Версия 12.5.1 (21G83) \cite{macos} x86\_64;
	\item память: 16 GB;
	\item процессор: 2,7 GHz 4‑ядерный процессор Intel Core i7 \cite{intel}.
\end{itemize}

При тестировании ноутбук был включен в сеть электропитания. Во время тестирования ноутбук был нагружен только встроенными приложениями окружения, а также системой тестирования.

\section{Демонстрация работы программы}

На рисунке \ref{img:example} представлен результат работы программы.

\img{100mm}{example}{Пример работы программы}
\clearpage

\section{Время выполнения алгоритмов}

Для проведения нагрузочного тестирования и замера времени обработки запросов используется утилита wrk.
Нагрузочное тестирование будет производиться в течение 30 секунд с 12 потоков и с указанным числом соединений, результаты (количество обработанных запросов в секунду -- requests per second, rps к количеству открытых соединений)

Результаты тестирования приведены в таблице \ref{tbl:rps}.
\begin{table}[h]
	\begin{center}
		\begin{threeparttable}
		\caption{Результаты нагрузочного тестирования}
		\label{tbl:rps}
		\begin{tabular}{|c|c|c|c|}
			\hline
			Количество соединений, шт.& 1 поток, rps&  8 потоков, rps &  16 потоков, rps \\
			\hline
			12 & 537 & 544 & 550 \\ 
			\hline
			40 & 291 & 434 & 546 \\ 
			\hline
			80 & 189 & 387 & 543 \\ 
			\hline
			120 & 147 & 360 & 533 \\ 
			\hline
			160 & 117 & 319 & 514 \\ 
			\hline
			200 & 86 & 220 & 506 \\ 
			\hline
		\end{tabular}
		\end{threeparttable}
    \end{center}
\end{table}

На рисунке \ref{img:graph_rps} приведены графические результаты нагрузочного тестирования.

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=100mm]{graph_rps}
	\end{center}
	\caption{Результаты нагрузочного тестирования}
	\label{img:graph_rps}
\end{figure}
Таким образом, при увеличении до 200 открытых соединений в течении 30 секунд реализация с использованием 16 потоков одновременно оказалась более чем в 6 раз эффективнее реализации с одним потоком, а с использованием 8 потоков - почти в 3 раза.

\section*{Вывод}
Исходя из полученных результатов, при увеличении нагрузки на сервер (например, увеличения открытых соединений) реализация с большим количеством потоков показала наилучший результат -- так, реализация с использованием 16 потоков одновременно оказалась более чем в 6 раз эффективнее реализации с одним потоком.
В целом, использование многопоточности показало значительный прирост количества обработанных запросов в секунду, в частности при количестве открытых запросов больше, чем 20.


Теоретические результаты замеров и полученные практически результаты совпадают.